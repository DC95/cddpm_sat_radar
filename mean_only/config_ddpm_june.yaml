# DDPM Training Configuration

data:
  input_path: "/p/scratch/exaww/chatterjee1/louis/data/Input_CGAN_63978_STH20.nc"
  #output_path: "/p/scratch/exaww/chatterjee1/louis/runs/"

variables:
  condition_vars:
    - "GEO_MEAN_IR_016_M60MIN_P60MIN"
    - "GEO_MEAN_IR_039_M60MIN_P60MIN"
    - "GEO_MEAN_IR_087_M60MIN_P60MIN"
    - "GEO_MEAN_IR_097_M60MIN_P60MIN"
    - "GEO_MEAN_IR_108_M60MIN_P60MIN"
    - "GEO_MEAN_IR_120_M60MIN_P60MIN"
    - "GEO_MEAN_IR_134_M60MIN_P60MIN"
    - "GEO_MEAN_WV_062_M60MIN_P60MIN"
    - "GEO_MEAN_WV_073_M60MIN_P60MIN"

  selected_condition_vars: 
    - "GEO_MEAN_IR_108_M60MIN_P60MIN"
    - "GEO_MEAN_IR_120_M60MIN_P60MIN"
    - "GEO_MEAN_WV_062_M60MIN_P60MIN"
    - "GEO_MEAN_WV_073_M60MIN_P60MIN"

  angle_vars:
    - "Local_vertical_zenithal_angle"

  target_vars:
    - "STH_20"

  height: 48
  width: 48
  time_steps: 3

normalization:
  # mean_condition: [9.281, 268.3, 257.6, 246.6, 257.8, 255.9, 243.6, 230.4, 242.1] # for 20000 samples
  mean_condition: [9.211263656616211,268.3293151855469,257.6995849609375,246.52073669433594,257.9595031738281,256.02777099609375,243.8035125732422,230.41624450683594,242.11056518554688] # for all samples
  # std_condition: [11.9, 23.15, 25.48, 16.19, 26.55, 25.98, 17.89, 9.997, 15.53] # for 20000 samples
  std_condition: [11.826164245605469,23.3288516998291,25.541290283203125,16.236270904541016,26.612091064453125,26.059450149536133,17.99517822265625,9.990241050720215,15.527344703674316] # for all samples

  # mean_angle: [41.42792] # for 20000 samples
  mean_angle: [41.48715591430664] # for all samples
  # std_angle: [16.18432] # for 20000 samples
  std_angle: [16.190860748291016] # for all samples

  # mean_target: [1982.3682] # for 20000 samples and STH
  mean_target: [1009.27563] # for all samples and STH_20
  # std_target: [3372.777] # for 20000 samples and STH
  std_target: [2157.3933] # for all samples and STH_20

model:
  name: "ConditionalDenoisingUNet"
  channels: 32
  out_channels: 1

diffusion:
  type: "cosine"
  timesteps: 1000
  loss: "epsilon"  # or "x0" if needed later

training:
  batch_size: 64
  epochs: 200
  learning_rate: 0.0001
  save_frequency: 5
  scheduler: cosine
  clip_grad_norm: 1.0
  loss_safe: true  

logging:
  log_file: "/p/scratch/exaww/chatterjee1/louis/runs/training_ddpm.log"
  tensorboard: true

hardware:
  num_workers: 32
  device: "cuda"
  
bad_indices:
  - 141
  - 298
  - 300
  - 448
  - 570
  - 846
  - 1050
  - 1501
  - 1541 
  - 1543  
  - 1547  
  - 2738
  - 2863  
  - 3586  
  - 5090
  - 6356  
  - 6366  
  - 7317 
  - 7840  
  - 7852  
  - 8190  
  - 8224  
  - 8500  
  - 9052  
  - 9260  
  - 9361  
  - 9505 
  - 9829
  - 11021
  - 11098 
  - 11152 
  - 11153 
  - 11159 
  - 11393 
  - 11418 
  - 12033
  - 12197 
  - 12670 
  - 12732 
  - 13285 
  - 13286 
  - 13287 
  - 13288 
  - 13289 
  - 13296
  - 14107 
  - 14356 
  - 14793 
  - 14795 
  - 14797 
  - 14874 
  - 16065 
  - 16110 
  - 16243
  - 16245 
  - 17441
  - 17604 
  - 17665
  - 17669
  - 18008
  - 18015
  - 18017
  - 18465
  - 18488
  - 18527 
  - 18531
  - 18711
  - 19260 
  - 19591 
  - 19616 
  - 19623 
  - 19624
  - 19684 
  - 19791
  - 20049 
  - 20094 
  - 20292 
  - 20429 
  - 20448 
  - 21132 
  - 21768
  - 21886 
  - 22147 
  - 22290 
  - 22291 
  - 22292 
  - 22293 
  - 22294 
  - 22295 
  - 22296
  - 22297 
  - 22298 
  - 22299 
  - 22300 
  - 22301 
  - 22302 
  - 22303 
  - 22304 
  - 22305
  - 22306 
  - 22307 
  - 22308 
  - 22309 
  - 22310 
  - 22311 
  - 22312 
  - 22313 
  - 22314
  - 22315 
  - 22316 
  - 22317 
  - 22318 
  - 22319 
  - 22320 
  - 22321 
  - 22322 
  - 22323
  - 22324 
  - 22325 
  - 22326 
  - 22327 
  - 22328 
  - 22329 
  - 22330 
  - 22331 
  - 22332
  - 22333 
  - 22334 
  - 22335 
  - 22336 
  - 22337 
  - 22338 
  - 22339 
  - 22340 
  - 22341
  - 22342 
  - 22343 
  - 22344 
  - 22345 
  - 22346 
  - 22347 
  - 22348 
  - 22349 
  - 22350
  - 22351 
  - 22352 
  - 22353 
  - 22354 
  - 22355 
  - 22356 
  - 22357 
  - 22358 
  - 22359
  - 22360 
  - 22361 
  - 22362 
  - 22363 
  - 22364 
  - 22365 
  - 22366 
  - 22367 
  - 22368
  - 22369 
  - 22370 
  - 22371 
  - 22372 
  - 22373 
  - 22374 
  - 22375 
  - 22376 
  - 22377
  - 22378 
  - 22379 
  - 22380 
  - 22381 
  - 22382 
  - 22383 
  - 22384 
  - 22385 
  - 22386
  - 22387 
  - 22388 
  - 22389 
  - 22390 
  - 22391 
  - 22392 
  - 22393 
  - 22394 
  - 22395
  - 22396 
  - 22397 
  - 22398 
  - 22399 
  - 22400 
  - 22401 
  - 22402 
  - 22403 
  - 22404
  - 22405 
  - 22406 
  - 22407 
  - 22408 
  - 22409 
  - 22410 
  - 22411 
  - 22412 
  - 22413
  - 22414 
  - 22415 
  - 22416 
  - 22417 
  - 22418 
  - 22419 
  - 22420 
  - 22421 
  - 22422
  - 22423 
  - 22424 
  - 22425 
  - 22426 
  - 22427 
  - 22428 
  - 22429 
  - 22430 
  - 22431
  - 22432 
  - 22433 
  - 22434 
  - 22435 
  - 22436 
  - 22437 
  - 22438 
  - 22439 
  - 22440
  - 22441 
  - 22442 
  - 22443 
  - 22444 
  - 22445 
  - 22446 
  - 22447 
  - 22448 
  - 22449
  - 22450 
  - 22451 
  - 22452 
  - 22453 
  - 22454 
  - 22455 
  - 22456 
  - 22457 
  - 22458
  - 22459 
  - 22485 
  - 22696 
  - 22741 
  - 22743 
  - 23055 
  - 23092 
  - 23114 
  - 23115
  - 23150 
  - 23235 
  - 23312 
  - 23482 
  - 23484 
  - 23488 
  - 23535 
  - 23742 
  - 24012
  - 24229 
  - 24231 
  - 24232 
  - 24446 
  - 24453 
  - 24497 
  - 24499 
  - 24502 
  - 24598
  - 24865 
  - 24983 
  - 25332 
  - 25581 
  - 25807 
  - 26419 
  - 26467 
  - 27738 
  - 27838
  - 27859 
  - 28017 
  - 28018 
  - 28119 
  - 28180 
  - 28187 
  - 28322 
  - 28555 
  - 29178
  - 29184 
  - 29407 
  - 29490 
  - 29521 
  - 29818 
  - 29840
  - 29845 
  - 30041 
  - 30042
  - 30043 
  - 30804 
  - 30940 
  - 31370 
  - 31430 
  - 31432 
  - 31903 
  - 32394 
  - 32397
  - 32530 
  - 32580 
  - 32582 
  - 32677 
  - 32680 
  - 32682 
  - 32686 
  - 33293 
  - 33527
  - 34126 
  - 34272 
  - 34275 
  - 34646 
  - 35385 
  - 35524 
  - 35532 
  - 35703 
  - 36120
  - 36312 
  - 36320 
  - 37397 
  - 37398 
  - 37420 
  - 37465 
  - 38272 
  - 38367 
  - 38930
  - 38961 
  - 39056 
  - 39316 
  - 39368 
  - 39485 
  - 39624 
  - 40213 
  - 40337 
  - 40754
  - 40776 
  - 41032 
  - 41961 
  - 43772 
  - 44572 
  - 44856 
  - 44857 
  - 45161 
  - 45162
  - 45593 
  - 45753 
  - 45991 
  - 46100 
  - 46196 
  - 46202 
  - 46407 
  - 46409 
  - 46499
  - 46879 
  - 46884 
  - 46996 
  - 47023 
  - 47740 
  - 47867 
  - 48203 
  - 48540 
  - 49380
  - 49916 
  - 49917 
  - 50815 
  - 51237 
  - 51359 
  - 51360 
  - 52424 
  - 52491 
  - 52494
  - 52550 
  - 52792 
  - 52888 
  - 53109 
  - 53132 
  - 53139 
  - 53752 
  - 53849 
  - 54000
  - 54126 
  - 54936 
  - 55042 
  - 55114 
  - 55115 
  - 55165 
  - 55249 
  - 55355 
  - 55359
  - 55679 
  - 55878 
  - 56110 
  - 56683 
  - 56726 
  - 56986 
  - 57290 
  - 58138 
  - 58824
  - 58830 
  - 59340 
  - 59495 
  - 59794 
  - 60590 
  - 60750 
  - 61199 
  - 61201 
  - 61213
  - 61214 
  - 61215 
  - 61843 
  - 62366 
  - 62792 
  - 62808 
  - 63010 
  - 63012 
  - 63228
  - 63229 
  - 63332 
  - 63337 
  - 63440 
  - 63446 
  - 63521 
  - 63576 
  - 63760 
  - 63827 
